{% extends 'base.html.twig' %}

{% block title %}Recipe{% endblock %}

{% block body %}
<div class="block-im-recipe text-center" style="background-image: url({{ asset ('/assets/img/select-program-background.jpg') }});  background-repeat: no-repeat; background-size: cover;">
    <div class="container">
        <div class="image_header pt-5">
            <h1 class="images-title text-center">{{recipe.name}}</h1>
            <h6 class="card-regime">Régime : {{ recipe.regime }}</h6>
            <p class="card-text">
                {% for tag in recipe.tags %}
                    <span class="tags">
                        <label class="label label-default mr-1">#{{ tag.name }}</label>
                    </span>
                {% endfor %}
            </p>
            <div class="head-recip row mt-2">
                <div class="col-6">
                    <p>Recette proposée par : <span class="user"><i class="fa fa-user" aria-hidden="true"></i> {{ recipe.user.username }}</span></p>
                </div>
                <div class="col-6">
                    {% for love in recipe.love %}

                        <a href="{{ path('love',{'idLove': love.id, 'idRecipe':recipe.id}) }}">
                        {% if recipe.user(app.user) %}
                            <i id="like" class=" text-danger"></i>&nbsp;<i class="fa fa-thumbs-up" aria-hidden="true"></i> {{ love.loves }} aiment cette recette
                        {% else %}
                            <i id="like" class=" text-danger"></i>&nbsp;<i class="fa fa-thumbs-up" aria-hidden="true"></i> {{ love.loves }} aiment cette recette
                        {% endif %}
                    </a>
                    {% endfor %}
                </div>
            </div>
            <img class="img-responsive img-recipe" src="{{ asset('uploads/recipes/' ~ recipe.picture) }}" alt="recette {{ recipe.name }}">
        </div>
        <div class="more-info-recipe">
                <div class="row">
                    <div class="col-4">
                        <label class="label label-danger">{{ recipe.type }}</label>
                    </div>
                    <div class="col-4">
                        <i class="fa fa-hourglass-half" aria-hidden="true"></i> {{recipe.time }} {{ recipe.timeUnity }}</p>
                    </div>
                    <div class="col-4">
                        <p>Difficulté : <label class="label label-primary">{{ recipe.dificulty }}</label> </p>
                    </div>
                </div>
            </div>
        <div class="explain-recip text-left mb-5">
            <div class="row">
                <div class="col-4">
                    <h4>Ingrédients</h4>
                    <div class="foods mt-4">
                        {% for food in recipe.foods %}
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    {{ food.quantity }} {{ food.quantityUnity }} {{ food.name }}
                                </li>
                            </ul>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-8">
                    <h4>Préparation</h4>
                    <p class="text-justify text-left mt-4">
                        {{ recipe.description|raw }}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
